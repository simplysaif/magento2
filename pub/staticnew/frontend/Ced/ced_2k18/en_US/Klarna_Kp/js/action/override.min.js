define(['mage/utils/wrapper','Klarna_Kp/js/model/config','Magento_Checkout/js/model/full-screen-loader'],function(wrapper,config,loader){'use strict';return function(overriddenFunction){return wrapper.wrap(overriddenFunction,function(originalAction){if(!config.enabled){return originalAction();}
if(config.hasErrors()){return originalAction();}
loader.startLoader();return originalAction().then(function(){loader.stopLoader();});});};});