define(['jquery','Magento_Checkout/js/model/address-converter','Magento_Checkout/js/model/quote','uiRegistry','Magento_Checkout/js/checkout-data','Magento_Checkout/js/model/checkout-data-resolver','Amazon_Payment/js/model/storage'],function($,addressConverter,quote,registry,checkoutData,checkoutDataResolver,amazonStorage){'use strict';function populateShippingForm(){var shippingAddressData=checkoutData.getShippingAddressFromData();registry.async('checkoutProvider')(function(checkoutProvider){checkoutProvider.set('shippingAddress',$.extend({},checkoutProvider.get('shippingAddress'),shippingAddressData));});checkoutDataResolver.resolveShippingAddress();}
return function(){if(!amazonStorage.isAmazonAccountLoggedIn){populateShippingForm();}
amazonStorage.isAmazonAccountLoggedIn.subscribe(function(loggedIn){if(!loggedIn){populateShippingForm();}});};});