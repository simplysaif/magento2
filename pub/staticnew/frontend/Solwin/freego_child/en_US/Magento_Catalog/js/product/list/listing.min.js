define(['ko','underscore','Magento_Ui/js/grid/listing'],function(ko,_,Listing){'use strict';return Listing.extend({defaults:{additionalClasses:'',filteredRows:{},limit:5,listens:{elems:'filterRowsFromCache','${ $.provider }:data.items':'filterRowsFromServer'}},initialize:function(){this._super();this.filteredRows=ko.observable();this.initProductsLimit();this.hideLoader();},initProductsLimit:function(){if(this.source['page_size']){this.limit=this.source['page_size'];}
return this;},initObservable:function(){this._super().track({rows:[]});return this;},filterRowsFromCache:function(){this._filterRows(this.rows);},filterRowsFromServer:function(rows){this._filterRows(rows);},_filterRows:function(rows){this.filteredRows(_.sortBy(rows,'added_at').reverse().slice(0,this.limit));},getUrl:function(row){return row.url;},getComponentByCode:function(code){var elems=this.elems()?this.elems():ko.getObservable(this,'elems'),component;component=_.filter(elems,function(elem){return elem.index===code;},this).pop();return component;}});});