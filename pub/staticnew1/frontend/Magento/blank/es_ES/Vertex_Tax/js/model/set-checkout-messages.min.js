define(['underscore','Magento_Customer/js/customer-data','Magento_Ui/js/model/messageList'],function(_,customerData,messageContainer){return function(){var typeMap={'success':'addSuccessMessage','warning':'addErrorMessage','error':'addErrorMessage'};var messageSubscriptionCallback=function(data){if('messages'in data){_.each(data.messages,function(message){if(message.type in typeMap){messageContainer[typeMap[message.type]]({'message':message.text});}});}};customerData.get('messages').subscribe(messageSubscriptionCallback);};});