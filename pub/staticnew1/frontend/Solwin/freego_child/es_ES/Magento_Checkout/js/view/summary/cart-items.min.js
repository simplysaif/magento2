define(['ko','Magento_Checkout/js/model/totals','uiComponent','Magento_Checkout/js/model/step-navigator','Magento_Checkout/js/model/quote'],function(ko,totals,Component,stepNavigator,quote){'use strict';return Component.extend({defaults:{template:'Magento_Checkout/summary/cart-items'},totals:totals.totals(),items:ko.observable([]),maxCartItemsToDisplay:window.checkoutConfig.maxCartItemsToDisplay,cartUrl:window.checkoutConfig.cartUrl,getItems:totals.getItems(),getItemsQty:function(){return parseFloat(this.totals['items_qty']);},getCartLineItemsCount:function(){return parseInt(totals.getItems()().length,10);},initialize:function(){this._super();this.setItems(totals.getItems()());totals.getItems().subscribe(function(items){this.setItems(items);}.bind(this));},setItems:function(items){if(items&&items.length>0){items=items.slice(parseInt(-this.maxCartItemsToDisplay,10));}
this.items(items);},isItemsBlockExpanded:function(){return quote.isVirtual()||stepNavigator.isProcessed('shipping');}});});